#!/bin/bash

# --- CONFIGURATION ---
SOURCE="/usr/local/bin"
DEST="$HOME/.backup/bin"

# Liste des scripts √† sauvegarder
# J'ai inclus 'extract-config' et 'extract-bin' pour qu'ils se sauvegardent eux-m√™mes !
ELEMENTS=(
    "browser-home"
    "extract-config"
    "extract-scripts"
    "grouped-windows.sh"
    "menu_applis"
    "reload_interface"
    "safe_quit"
    "scroll"
    "smart_open"
    "sys_monitor"
    "toggle_audio"
    "toggle_backlight"
    "toggle_help"
    "toggle_power"
    "toggle_tasks"
    "verso_backlight_ui"
    "verso-browser"
    "verso-install-brave"
    "verso-loading"
    "verso_power_ui"
    "verso_search"
    "verso-update"
    "verso-welcome"
    "zapping.sh"
)

# --- D√âBUT DU SCRIPT ---

echo "üöÄ D√©marrage de l'extraction des scripts (BIN)..."

# 1. Cr√©er le dossier de destination s'il n'existe pas
if [ ! -d "$DEST" ]; then
    echo "üìÇ Cr√©ation du dossier de backup : $DEST"
    mkdir -p "$DEST"
fi

# 2. Boucle sur chaque √©l√©ment de la liste
for item in "${ELEMENTS[@]}"; do
    CHEMIN_SRC="$SOURCE/$item"
    CHEMIN_DEST="$DEST/$item"

    if [ -e "$CHEMIN_SRC" ]; then
        # On copie le fichier (cp -f pour forcer l'√©crasement sans demander)
        cp -f "$CHEMIN_SRC" "$DEST/"
        echo "‚úÖ Copi√© : $item"
    else
        echo "‚ö†Ô∏è Ignor√© : $item (Introuvable dans $SOURCE)"
    fi
done

echo "------------------------------------------------"
echo "üéâ Scripts sauvegard√©s avec succ√®s vers $DEST !"
